<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="geo_trouble_i.xml" version="5.0" xml:id="sec-ha-geo-trouble">


 <title>Solución de problemas</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:maintainer/>
        <dm:status>editar</dm:status>
        <dm:deadline/>
        <dm:priority/>
        <dm:translation>sí</dm:translation>
        <dm:languages/>
        <dm:release/>
        <dm:repository/>
      </dm:docmanager>
    </info>
    <para>
  En booth se utiliza el mismo mecanismo de registro que en CRM. Por lo tanto, el cambio del nivel de registro también surte efecto en el registro de booth. Los mensajes de registro de booth también contienen información acerca de los tickets.
 </para>

 <para>
  Tanto los mensajes de registro como el archivo de configuración de booth se incluyen en <command>crm report</command>.
 </para>

 <para>
  Si se produce cualquier problema o un comportamiento inesperado de booth, compruebe los datos de registro con el comando <command>sudo journalctl - n</command> o cree un informe detallado del clúster con <command>crm report</command>.
 </para>

 <para>
  En caso de que pueda acceder a los nodos del clúster en todos los sitios (además de en los árbitros) desde un único host a través de SSH, es posible recopilar archivos de registro de todos ellos con el mismo comando <literal>crm report</literal>. Al llamar a <command>crm report</command> con la opción <option>-n</option>, se obtienen los archivos de registro de todos los hosts que haya especificado con el parámetro <option>‑n</option>. (Si no se indica <option>-n</option>, se intenta obtener la lista de nodos del clúster respectivo). Por ejemplo, para crear un único <literal>crm report</literal> que incluya los archivos de registro de clústeres de dos nodos (<literal>192.168.201.111</literal>|<literal>192.168.201.112</literal> y <literal>192.168.202.111</literal>|<literal>192.168.202.112</literal>) además de un árbitro (<literal>147.2.207.14</literal>), utilice el comando siguiente:
 </para>

<screen><prompt role="root">root # </prompt> crm report -n "147.2.207.14 192.168.201.111 192.168.201.112 \
 192.168.202.111 192.168.202.112"  -f 10:00 -t 11:00 db-incident</screen>

 <para>
  Si el problema solo es de booth y sabe en qué nodos de clúster se está ejecutando booth, especifique solo esos dos nodos y el árbitro.
 </para>

 <para>
  Si no es posible acceder a todos los sitios desde un host, ejecute <command>crm report</command> de forma individual en el árbitro y en los nodos de clúster de los sitios individuales, especificando el mismo período de tiempo. Para recopilar los archivos de registro en un árbitro, debe utilizar la opción <option>-S</option> para la operación de nodo único:
 </para>

<screen>amsterdam # crm report -f 10:00 -t 11:00 db-incident-amsterdam
berlin # crm report -f 10:00 -t 11:00 db-incident-berlin
arbitrator # crm report -S -f 10:00 -t 11:00 db-incident-arbitrator</screen>

 <para>
  Sin embargo, es preferible producir un único informe <literal>crm report</literal> para todos los equipos sobre los que se necesiten los archivos de registro.
 </para>
</sect1>
