<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="geo_trouble_i.xml" version="5.0" xml:id="sec-ha-geo-trouble">


 <title>Fehlersuche</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:maintainer/>
        <dm:status>Bearbeiten</dm:status>
        <dm:deadline/>
        <dm:priority/>
        <dm:translation>Ja</dm:translation>
        <dm:languages/>
        <dm:release/>
        <dm:repository/>
      </dm:docmanager>
    </info>
    <para>
  booth verwendet denselben Protokollierungsmechanismus wie CRM. Daher wirkt sich eine Änderung des Protokollierumfangs auch auf die booth-Protokollierung aus. Die booth-Protokollmeldungen enthalten auch Informationen zu Tickets.
 </para>

 <para>
  Sowohl die booth-Protokollmeldungen als auch die booth-Konfigurationsdatei sind im <command>crm report</command> enthalten.
 </para>

 <para>
  Wenn sich booth anders als erwartet verhält oder Probleme auftreten, prüfen Sie die Protokolldaten mit <command>sudo journalctl -n</command> oder erstellen Sie mit <command>crm report</command> einen detaillierten Cluster-Bericht.
 </para>

 <para>
  Wenn Sie über SSH von einem einzelnen Host aus auf die Cluster-Knoten auf allen Sites (und die Vermittler) zugreifen können, ist es möglich, Protokolldateien von all diesen Rechnern in demselben <literal>crm report</literal> zu sammeln. Rufen Sie <command>crm report</command> mit der Option <option>-n</option> auf, werden die Protokolldateien von allen Hosts abgerufen, die Sie mit <option>-n</option> angeben. (Ohne <option>-n</option> wird versucht, die Liste der Knoten von dem jeweiligen Cluster abzurufen.) Um z. B. einen einzelnen <literal>crm report</literal> zu erstellen, der Protokolldateien von zwei Clustern mit je zwei Knoten (<literal>192.168.201.111</literal>|<literal>192.168.201.112</literal> und <literal>192.168.202.111</literal>|<literal>192.168.202.112</literal>) sowie einem Vermittler (<literal>147.2.207.14</literal>) umfasst, verwenden Sie das folgende Kommando:
 </para>

<screen><prompt role="root">root # </prompt> crm report -n "147.2.207.14 192.168.201.111 192.168.201.112 \
 192.168.202.111 192.168.202.112"  -f 10:00 -t 11:00 db-incident</screen>

 <para>
  Wenn das Problem nur booth betrifft und Sie wissen, auf welchen Cluster-Knoten (innerhalb einer Site) booth ausgeführt wird, geben Sie nur diese beiden Knoten und den Vermittler an.
 </para>

 <para>
  Besteht keine Möglichkeit, von einem Host aus auf alle Sites zuzugreifen, führen Sie <command>crm report</command> separat auf dem Vermittler und auf den Cluster-Knoten der einzelnen Sites aus und geben Sie jeweils denselben Zeitraum an. Um Protokolldateien auf einem Vermittler zu sammeln, müssen Sie die Option <option>-S</option> verwenden, damit der Vorgang nur für einen Knoten ausgeführt wird:
 </para>

<screen>amsterdam # crm report -f 10:00 -t 11:00 db-incident-amsterdam
berlin # crm report -f 10:00 -t 11:00 db-incident-berlin
arbitrator # crm report -S -f 10:00 -t 11:00 db-incident-arbitrator</screen>

 <para>
  Vorzuziehen ist es jedoch, einen einzigen <literal>crm report</literal> für alle Rechner zu generieren, von denen Sie Protokolldateien benötigen.
 </para>
</sect1>
