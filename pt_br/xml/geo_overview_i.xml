<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="geo_overview_i.xml" version="5.0" xml:id="sec-ha-geo-oview">
 <title>Exemplo de cenário e etapas básicas: visão geral</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:maintainer/>
        <dm:status>editando</dm:status>
        <dm:deadline/>
        <dm:priority/>
        <dm:translation>yes (sim)</dm:translation>
        <dm:languages/>
        <dm:release/>
        <dm:repository/>
      </dm:docmanager>
    </info>
    <para>
  Nas seções a seguir, usaremos um cenário de exemplo conforme descrito abaixo:
 </para>

 <example xml:id="ex-ha-geo-example2">
  <title>Cenário com um Cluster de Dois Sites, um Arbitrador e Replicação de Dados por meio do DRBD</title>
  <itemizedlist>
   <listitem>
    <para>
     Um cluster Geo com dois sites, <literal>amsterdam</literal> e <literal>berlin</literal>, e um arbitrador.
    </para>
   </listitem>
   <listitem>
    <para>
     Cada site tem uma rede privada roteada para o outro site:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       amsterdam: <literal>192.168.201.x</literal>
      </para>
     </listitem>
     <listitem>
      <para>
       berlin: <literal>192.168.202.x</literal>
      </para>
     </listitem>
    </itemizedlist>
   </listitem>
   <listitem>
    <para>
     Cada site executa um cluster de dois nós:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       o cluster <literal>amsterdam</literal> consiste nos nós <literal>alice</literal> e <literal>bob</literal>
      </para>
     </listitem>
     <listitem>
      <para>
       o cluster <literal>berlin</literal> consiste nos nós <literal>charly</literal> e <literal>doro</literal>
      </para>
     </listitem>
    </itemizedlist>
   </listitem>
   <listitem>
    <para>
     Os dados são replicados para os sites com o DRBD no modo assíncrono para recuperação de desastre.
    </para>
   </listitem>
   <listitem>
    <para>
     A configuração de booth e outros arquivos de configuração importantes são sincronizados entre os sites de cluster e o arbitrador usando o Csync2.
    </para>
   </listitem>
  </itemizedlist>
 </example>

 <para>
  A configuração desse cenário requer as seguintes etapas básicas:
 </para>

 <variablelist>
  <varlistentry>

   <term><xref linkend="sec-ha-geo-booth" xrefstyle="select:title"/>
   </term>
   <listitem>
    <orderedlist spacing="normal">
     <listitem>
      <para>
       Escolhendo se é para usar a <xref linkend="sec-ha-geo-booth-default" xrefstyle="select:title"/> ou uma <xref linkend="sec-ha-geo-booth-multi" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>

      <para>
       <xref linkend="sec-ha-geo-booth-sync" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>
      <para>
       Configurando os recursos do cluster para booth, conforme explicado em <xref linkend="sec-ha-geo-rsc-booth" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>

      <para>
       <xref linkend="sec-ha-geo-rsc-sync-cib" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>

      <para>
       <xref linkend="sec-ha-geo-setup-booth-service" xrefstyle="select:title"/>.
      </para>
     </listitem>
    </orderedlist>
   </listitem>
  </varlistentry>
  <varlistentry>

   <term><xref linkend="sec-ha-geo-drbd" xrefstyle="select:title"/>
   </term>
   <listitem>
    <orderedlist spacing="normal">
     <listitem>
      <para>
       Configurando o DRBD, conforme descrito na <xref linkend="sec-ha-geo-drbd-cfg" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>
      <para>
       Configurando os recursos do cluster para DRBD, conforme explicado em <xref linkend="sec-ha-geo-rsc-drbd" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>

      <para>
       <xref linkend="sec-ha-geo-rsc-sync-cib" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>
      <para>
       Sincronizando os arquivos de configuração do DRBD, conforme mostrado em <xref linkend="sec-ha-geo-booth-sync-csync2-start" xrefstyle="select:title"/>.
      </para>
     </listitem>
    </orderedlist>
   </listitem>
  </varlistentry>
  <varlistentry>

   <term><xref linkend="sec-ha-geo-sync" xrefstyle="select:title"/>
   </term>
   <listitem>
    <orderedlist spacing="normal">
     <listitem>
      <para>
       Configurando o Csync2, conforme explicado em <xref linkend="sec-ha-geo-booth-sync-csync2-setup" xrefstyle="select:title"/>.
      </para>
     </listitem>
     <listitem>
      <para>
       Sincronizando inicialmente todos os arquivos de configuração relevantes entre os sites e arbitradores, conforme descrito em <xref linkend="sec-ha-geo-booth-sync-csync2-start" xrefstyle="select:title"/>.
      </para>
     </listitem>
    </orderedlist>
   </listitem>
  </varlistentry>


 </variablelist>
</sect1>
