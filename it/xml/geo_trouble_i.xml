<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="geo_trouble_i.xml" version="5.0" xml:id="sec-ha-geo-trouble">


 <title>Soluzione dei problemi</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:maintainer/>
        <dm:status>modifica</dm:status>
        <dm:deadline/>
        <dm:priority/>
        <dm:translation>sì</dm:translation>
        <dm:languages/>
        <dm:release/>
        <dm:repository/>
      </dm:docmanager>
    </info>
    <para>
  Booth utilizza lo stesso meccanismo di registrazione di CRM. Perciò, se si modifica il livello di log, si influisce anche sulla registrazione di booth. I messaggi di log di booth contengono inoltre informazioni su eventuali richieste.
 </para>

 <para>
  I messaggi di log e i file di configurazione booth sono inclusi in <command>crm report</command>.
 </para>

 <para>
  In caso di comportamento imprevisto di booth o di altri problemi, controllare i dati di log con <command>sudo journalctl -n</command> o creare un rapporto dettagliato sul cluster con <command>crm report</command>.
 </para>

 <para>
  Nel caso sia possibile accedere ai nodi del cluster su tutti i siti (oltre agli arbitri) da un singolo host via SSH, è possibile raccogliere i file di log provenienti da tali siti nello stesso <literal>crm report</literal>. Quando si richiama <command>crm report</command> con l'opzione <option>-n</option>, vengono recuperati i file di log di tutti gli host specificati con <option>-n</option>. (Senza <option>-n</option>, si ottiene invece l'elenco di nodi dal rispettivo cluster). Ad esempio, per creare un singolo <literal>crm report</literal> comprendente i file di log da cluster a due nodi (<literal>192.168.201.111</literal>|<literal>192.168.201.112</literal> e <literal>192.168.202.111</literal>|<literal>192.168.202.112</literal>) più un arbitro (<literal>147.2.207.14</literal>), utilizzare il comando seguente:
 </para>

<screen><prompt role="root">root # </prompt> crm report -n "147.2.207.14 192.168.201.111 192.168.201.112 \
 192.168.202.111 192.168.202.112"  -f 10:00 -t 11:00 db-incident</screen>

 <para>
  Se il problema riguarda solo booth e sono noti i nodi del cluster (in un sito) in cui è in esecuzione booth, specificare solo tali due nodi oltre all'arbitro.
 </para>

 <para>
  Se non è possibile accedere a tutti i siti da un host, eseguire <command>crm report</command> singolarmente sull'arbitro e sui nodi del cluster dei singoli siti, specificando lo stesso periodo di tempo. Per raccogliere i file di log su un arbitro, è necessario utilizzare l'opzione <option>-S</option> per l'operazione su singolo nodo:
 </para>

<screen>amsterdam # crm report -f 10:00 -t 11:00 db-incident-amsterdam
berlin # crm report -f 10:00 -t 11:00 db-incident-berlin
arbitrator # crm report -S -f 10:00 -t 11:00 db-incident-arbitrator</screen>

 <para>
  Tuttavia, è preferibile produrre un singolo <literal>crm report</literal> per tutti i computer da cui sono necessari i file di log.
 </para>
</sect1>
