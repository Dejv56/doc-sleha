<?xml version="1.0" encoding="UTF-8"?>
<sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="geo_manage_hawk2_i.xml" xml:id="sec-ha-geo-manage-hawk2" version="5.0">
 <title>Con la HA Web Konsole (Hawk2)</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:maintainer/>
        <dm:status>modifica</dm:status>
        <dm:deadline/>
        <dm:priority/>
        <dm:translation>sì</dm:translation>
        <dm:languages/>
        <dm:release/>
        <dm:repository/>
      </dm:docmanager>
    </info>
    <para>Hawk2 è un'interfaccia utente basata su Web che consente la gestione di cluster e Geo cluster.</para>

  <sect3 xml:id="sec-ha-geo-manage-hawk2-dashboard">

   <title>Monitoraggio di più cluster con il dashboard Hawk2</title>
   <para>
    Le informazioni sul cluster visualizzate nel <guimenu>dashboard</guimenu> sono memorizzate lato server e sincronizzate tra i nodi del cluster (se è stato configurato l'accesso SSH senza password tra i nodi del cluster). Per i dettagli, vedere la <citetitle>Guida di amministrazione</citetitle> di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase>, disponibile da <link xlink:href="http://www.suse.com/documentation/"/>. Consultare il capitolo <citetitle>Esecuzione dei rapporti cluster senza accesso <systemitem class="username">root</systemitem></citetitle>, sezione relativa a <citetitle>configurazione di un account SSH senza password</citetitle>. Tuttavia, il computer in cui si esegue Hawk2 non deve far parte di alcun cluster per tale scopo; può essere in un sistema separato, non correlato.
   </para>
  <procedure xml:id="pro-ha-config-hawk2-geo-dashboard">
   <title>Monitoraggio di più cluster con Hawk2</title>
   <itemizedlist>
    <title>Prerequisiti</title>
    <listitem>
     <para> Tutti i cluster monitorati dal <guimenu>dashboard</guimenu> di Hawk2 devono eseguire <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> <phrase role="productnumber"><phrase os="sles">12 SP2</phrase></phrase>. Non è possibile monitorare cluster che eseguono versioni precedenti di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase>. </para>
    </listitem>
    <listitem>
     <para>Se non è stato sostituito il certificato autofirmato per Hawk2 su ogni nodo del cluster con il proprio certificato (o con un certificato firmato da una Certificate Authority ufficiale), eseguire almeno una volta il login ad Hawk2 sul nodo <emphasis>every</emphasis> nel cluster <emphasis>every</emphasis>. Verificare il certificato (o aggiungere un'eccezione nel browser per ignorare l'avviso).
     </para>
    </listitem>
   </itemizedlist>
   <step>
    <para> Avviare il servizio Web Hawk2 su un computer da utilizzare per monitorare più cluster: </para>
    <screen><prompt role="root">root # </prompt><command>systemctl</command> start hawk</screen>
   </step>
   <step>
    <para> Avviare un browser Web e come URL immettere l'indirizzo IP o il nome host del computer che esegue Hawk2:</para>
    <screen>https://<replaceable>HAWKSERVER</replaceable>:7630/</screen>
   </step>
   <step>
    <para> Eseguire il login all'interfaccia Web Hawk2. </para>
   </step>
   <step>
    <para>Dalla barra di navigazione sinistra, selezionare <guimenu>Dashboard</guimenu>. </para>
   </step>
   <step>
    <para>Per aggiungere dashboard per più cluster, fare clic su <guimenu>Aggiungi cluster</guimenu>.</para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="hawk2-dashboard-add-cluster.png" width="100%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="hawk2-dashboard-add-cluster.png" width="95%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
    <substeps>
     <step>
      <para> Immettere un <guimenu>Nome cluster</guimenu> personalizzato con cui identificare il cluster nel <guimenu>dashboard</guimenu>. </para>
     </step>
     <step>
      <para>Immettere il <guimenu>Nome host di un nodo nel cluster</guimenu>.</para>
     </step>
    
     <step>
      <para>Confermare le modifiche con <guimenu>Aggiungi</guimenu>.</para>
     </step>
     <step>
      <para> Per aggiungere altri cluster al dashboard, fare di nuovo clic su <guimenu>Aggiungi cluster</guimenu> e immettere i dettagli del cluster successivo. </para>
      <figure>
       <title>Hawk2—Dashboard</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="hawk2-dashboard-multiple-clusters.png" width="100%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="hawk2-dashboard-multiple-clusters.png" width="80%" format="PNG"/>
        </imageobject>
       </mediaobject>
      </figure>
     </step>
    </substeps>
   </step>
   <step>
    <para> Per rimuovere un cluster dal dashboard, fare clic sull'icona <literal>x</literal> accanto al nome del cluster. </para>
   </step>
   <step>
    <para> Per visualizzare i dettagli su un cluster, immettere una password e fare clic su <guimenu>Connetti</guimenu>. </para>
    <para> Hawk2 mostra un riepilogo con lo stato dei rispettivi nodi, risorse e richieste. Facendo clic sul nome di un cluster si apre la vista <guimenu>Stato</guimenu> per tale cluster, da cui è possibile gestirlo con le modalità abituali.</para>
   </step>
  </procedure>
   <para>
    Tutte le modifiche allo stato per nodi o risorse vengono applicate quasi immediatamente nel <guimenu>Dashboard</guimenu>.
   </para>
  </sect3>
 <sect3 xml:id="sec-ha-geo-manage-hawk2-tickets">
  <title>Gestione delle richieste con Hawk2</title>
  <para>
   Le richieste sono visibili in Hawk2 se sono state concesse o revocate almeno una volta o se vi si fa riferimento in una dipendenza. </para>
  <para>Hawk2 visualizza i seguenti stati per la richiesta:</para>
  <itemizedlist>
   <listitem>
    <para><guimenu>Concesso</guimenu>: le richieste concesse al sito corrente.</para>
   </listitem>
   <listitem>
    <para>
     <guimenu>Altrove</guimenu>: le richieste concesse a un altro sito.</para>
   </listitem>
   <listitem>
    <para>
     <guimenu>Revocato</guimenu>: le richieste revocate. Inoltre, Hawk2 visualizza le richieste come revocate se vi si fa riferimento in una dipendenza, ma non sono ancora state concesse ad alcun sito.</para>
   </listitem>
  </itemizedlist>
  <note>
   <title>concessione delle richieste al sito corrente e revoca delle richieste</title>
   
   <para> Benché sia possibile visualizzare le richieste per tutti i siti con Hawk2, qualsiasi operazione di concessione o revoca avviata da Hawk2 è valida solo per il sito corrente (quello a cui l'utente è collegato con Hawk2). Per concedere una richiesta a un altro sito del Geo cluster, avviare Hawk2 su uno dei nodi del cluster appartenente al sito rispettivo.</para>
   <para>È possibile concedere solo richieste che non sono già concesse ad alcun altro sito.</para>
  </note>

  <procedure xml:id="pro-ha-config-hawk2-viewtickets">
   <title>Visualizzazione, concessione e revoca delle richieste con Hawk2</title>

   <step>
    <para> Avviare un browser Web ed eseguire il login ad Hawk2. </para>
   </step>
   <step>
    <para> Dalla barra di navigazione sinistra, selezionare <guimenu>Stato</guimenu>.</para>
    <para> Insieme con le informazioni su richieste e nodi del cluster, in Hawk2 viene visualizzata anche una categoria <guimenu>Richieste</guimenu>. Vengono elencati lo stato della richiesta, l'ID del vincolo che fa riferimento alla richiesta e il nome della richiesta. La categoria <guimenu>Richiesta</guimenu> contiene inoltre due colonne per la gestione delle richieste.</para>
   </step>
   <step>
    <para> Per mostrare i dettagli di una determinata richiesta, fare clic sull'icona <guimenu>Dettagli</guimenu> accanto alla richiesta. Una finestra mostra se la richiesta è stata già concessa, quale <guimenu>Policy di perdita</guimenu> è stata impostata (per il caso in cui una richiesta venga revocata da un sito) e quali risorse dipendono dalla richiesta.</para>
    <figure>
     <title>Hawk2—Dettagli richiesta</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="hawk2-geo-ticket-details.png" width="100%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="hawk2-geo-ticket-details.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para> Per revocare una richiesta concessa dal sito corrente o per concedere una richiesta al sito corrente, fare clic sull'interruttore nella colonna <guimenu>Concesso</guimenu> accanto alla richiesta. Quando si fa clic viene visualizzata l'azione disponibile. Quando richiesto da Hawk2, confermare la scelta. </para>
    <para> Se per qualsiasi motivo non è possibile concedere o revocare la richiesta, Hawk2 mostra un messaggio di errore. Se la richiesta è stata correttamente concessa o revocata, Hawk2 ne aggiorna lo <guimenu>Stato</guimenu>. </para>
   </step>
  </procedure>
  <para>
   <remark>taroth 2015-11-02: according to dzyuzin, simulating granting and revoking tickets with
    hawk2 does not work yet, therefore commenting the following procedure</remark>
  </para>
  
  
 </sect3>
 </sect2>
