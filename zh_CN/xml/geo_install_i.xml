<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="geo_install_i.xml" version="5.0" xml:id="sec-ha-geo-inst">
 <title>作为扩展安装</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:maintainer/>
        <dm:status>编辑</dm:status>
        <dm:deadline/>
        <dm:priority/>
        <dm:translation>yes</dm:translation>
        <dm:languages/>
        <dm:release/>
        <dm:repository/>
      </dm:docmanager>
    </info>
    <para>
  要使用 SUSE Linux Enterprise High Availability Extension 的 High Availability Extension 和 Geo Clustering，需要使用以下安装模式纳入这些包：
 </para>

 <itemizedlist>
  <listitem>
   <para>
    <literal>高可用性</literal>
   </para>
  </listitem>
  <listitem>
   <para>
    <literal>高可用性的地域群集</literal>
   </para>
  </listitem>
 </itemizedlist>

 <note>
  <title>仲裁方的包要求</title>
  <para>
   如果地域群集设置包含一个或多个仲裁方（请参见<xref linkend="vle-ha-geo-components-arbitrator"/>），这些仲裁方只需要<literal>高可用性的地域群集</literal>模式。有关如何安装此模式的指导，请参见<xref linkend="sec-ha-geo-inst-arbitrators"/>。
  </para>
 </note>

 <para>
  仅当您已在 SUSE Customer Center（或本地注册服务器）中注册了系统，并且已添加相应的产品通道或安装媒体作为扩展时，这两个模式才可用。有关如何安装扩展的信息，请参见 <link xlink:href="http://www.suse.com/documentation/"/> 上的《<citetitle><phrase role="productnumber">SUSE Linux Enterprise <phrase os="sles"/>12 SP2</phrase> 部署指南</citetitle>》。请参考“<citetitle>安装模块、扩展和第三方外接式附件</citetitle>”一章。

 </para>

 <sect2 xml:id="sec-ha-geo-inst-nodes">
  <title>在群集节点上安装包</title>
  <para>
   如果已添加 SUSE Linux Enterprise High Availability Extension 的高可用性扩展和地域群集作为扩展，但尚未安装包，请执行以下操作：
  </para>
  <procedure>
   <step>
    <para>
     要通过命令行从这两个模式安装包，请使用 Zypper：
    </para>
<screen>sudo <command>zypper</command> in -t pattern ha_sles ha_geo</screen>
   </step>
   <step xml:id="step-ha-geo-inst-yast">
    <para>
     或者，使用 YaST 在图形界面中安装：
    </para>
    <substeps performance="required">
     <step>
      <para>
       以 <systemitem class="username">root</systemitem> 用户身份启动 YaST 并选择<menuchoice><guimenu>软件</guimenu> <guimenu>软件管理</guimenu></menuchoice>。
      </para>
     </step>
     <step>
      <para>
       单击<menuchoice> <guimenu>视图</guimenu> <guimenu>模式</guimenu> </menuchoice>，然后激活以下模式：
      </para>
      <itemizedlist>
       <listitem>
        <para>
         <literal>高可用性</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>高可用性的地域群集</literal>
        </para>
       </listitem>
      </itemizedlist>
     </step>
     <step>
      <para>
       单击<guimenu>接受</guimenu>开始安装包。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
  <important>
   <title>在所有参与方上安装软件包</title>
   <para>
    高可用性和地域群集所需的软件包<emphasis>不</emphasis>会自动复制到群集节点。
   </para>
   <itemizedlist>
    <listitem>
     <para>
      请在要加入地域群集的<emphasis>所有</emphasis>计算机上安装 SUSE Linux Enterprise Server <phrase role="productnumber"><phrase os="sles">12 SP2</phrase></phrase> 以及<literal>高可用性</literal>和<literal>高可用性的地域群集</literal>模式。
     </para>
    </listitem>
    <listitem>
     <para>
      如果不想在要加入群集的所有节点上手动安装这些包，可以使用 AutoYaST 克隆现有节点。<link xlink:href="http://www.suse.com/documentation/"/> 上的《<citetitle><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> <phrase role="productnumber"><phrase os="sles">12 SP2</phrase></phrase> 管理指南</citetitle>》中提供了详细信息。请参见“<citetitle>安装和基本步骤</citetitle>”一章中的“<citetitle>使用 AutoYaST 进行批量部署</citetitle>”一节。
     </para>
     <para>
      对于需要地域群集扩展的所有计算机，目前需要手动安装地域群集的包。目前尚不支持使用 AutoYaST 安装 SUSE Linux Enterprise High Availability Extension 的地域群集。
     </para>
    </listitem>
   </itemizedlist>
  </important>
 </sect2>

 <sect2 xml:id="sec-ha-geo-inst-arbitrators">
  <title>在仲裁方上安装包</title>
  <procedure>
   <step>
    <para>
     请确保已将 SUSE Linux Enterprise High Availability Extension 的地域群集添加到充当仲裁方的计算机上。
    </para>
   </step>
   <step>
    <para>
     登录到每个仲裁方，然后使用以下命令来安装包：
    </para>
<screen>sudo <command>zypper</command> in -t pattern ha_geo</screen>
    <para>
     或者，使用 YaST 安装<literal>高可用性的地域群集</literal>模式。
    </para>
   </step>
  </procedure>
 </sect2>
</sect1>
